#!/usr/bin/env ruby
require_relative('../lib/player')
require_relative('../lib/game')

puts 'Welcome to Tic Tac Toa game'

puts '|1| |2| |3|'
puts '------------'
puts '|4| |5| |6|'
puts '------------'
puts '|7| |8| |9|'

pl = Player.new
#-------Player 1 Information------
puts 'Player 1 Enter Your Name'
pl.player_name(gets.chop.strip)
puts "Player One Your Name is #{pl.get_player_name(0)}"
puts "#{pl.get_player_name(0)} Select Symbol X or Y"
if pl.player_symbol?(gets.chop.strip)
  puts "#{pl.get_player_name(0)} Your  Selected Symbol is #{pl.get_player_symbol(0)}"
else
  loop do
    puts 'Please #{pl.get_player_name(0)} Select Symbol X or Y Choices Only'
    if pl.player_symbol?(gets.chop.strip)
      puts "#{pl.get_player_name(0)} Your  Selected Symbol is #{pl.get_player_symbol(0)}"
      break
    end
  end
end

#-------Player 2 Information------
puts 'Player 2 Enter Your Name'
pl.player_name(gets.chop.strip)
puts "Player two Your Name is #{pl.get_player_name(1)}"
puts "#{pl.get_player_name(1)} Your Symbol is #{pl.get_player_symbol(1)}"
puts "#{pl.get_player_name(0)} will play with #{pl.get_player_name(1)}"

# Game
gm = Game.new
pl_flag=0
loop do

  puts "#{pl.get_player_name(pl_flag)}, It is Your Turn,  Please Select Position"
  pos_move = gets.chop.strip.to_i
  if gm.validate_pos?(pos_move)
    gm.update_board(pl.get_player_symbol(pl_flag), pos_move)
    puts gm.board
    if pl_flag==0
    pl_flag=1
    else
      pl_flag=0
    end
  else
    puts "Position Already Taken or InCorrect Position, #{pl.get_player_name(pl_flag)} Please Enter Another Position"
  end
end
